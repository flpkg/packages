language: node_js

node_js:
  - "v10.6.0"

cache:
  yarn: true
  directories:
    - "node_modules"

script:
  - yarn run lint
  - yarn run test

after_success:
  - test $TRAVIS_BRANCH = "master" &&
    curl -s -X POST \
       -H 'Content-Type: application/json' \
       -H 'Accept: application/json' \
       -H 'Travis-API-Version: 3' \
       -H "Authorization: token $TRAVIS_TOKEN" \
       -d '{"request":{"branch":"dev"}}' \
       'https://api.travis-ci.org/repo/flpkg%2Fflpkg.github.io/requests'
